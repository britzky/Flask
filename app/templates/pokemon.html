{% extends 'base.html' %}

{% block title %}
Pokemon
{% endblock %}

{% block content %}
<h1 class="title">Pokemon page</h1>
<div class="form">
  <form action="{{url_for('pokemon')}}" method="POST">
    {{form.hidden_tag()}}
    <div class="form-group">
        {{form.name.label()}}
        {{form.name(class='form-control')}}
    </div>
    <div class="submit_btn">
      {{form.submit_btn(class='btn btn-primary')}}
    </div>
    <div style="color:red">
        <small>{{error}}</small>
    </div>
</form>
</div>


{% if new_pokemon_data %}
{% set selected_pokemon = new_pokemon_data[0] %}
<div class="table-container">
  <table class="table table-dark table-striped table-bordered">
    <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Ability</th>
        <th scope="col">HP</th>
        <th scope="col">Defense</th>
        <th scope="col">Attack</th>
        <th scope="col">Type</th>
        <th scope="col">Sprite</th>
      </tr>
    </thead>
    <tbody>
      {% for pokemon in new_pokemon_data  %}
      <tr>
        <th scope="row">{{pokemon.name}}</th>
        <td>{{pokemon.ability}}</td>
        <td>{{pokemon.hp_base_stat}}</td>
        <td>{{pokemon.defense_base_stat}}</td>
        <td>{{pokemon.attack_base_stat}}</td>
        <td>{{pokemon.type}}</td>
        <td><img src="{{pokemon.small_sprite}}"></td>
      </tr>
      <div class="image">
        <img src="{{pokemon.sprite}}" alt="pokemon picture">
      </div>
      {% endfor %}
    </tbody>
  </table>
</div> 
  {% include './includes/types.html' %}
{% endif %}
{% endblock %}
